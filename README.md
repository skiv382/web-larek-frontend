# Web-ларёк

Интернет-магазин с товарами для веб-разработчиков. Позволяет просматривать каталог, добавлять товары в корзину и оформлять заказы.

---

## Используемый стек

- TypeScript (Vanilla JS)
- Webpack
- SCSS (БЭМ)
- Событийная архитектура (EventEmitter)

---

## Инструкция по сборке и запуску

```bash
yarn install
yarn start
```
_Проект запускается на локальном сервере. Все зависимости устанавливаются через yarn._

---

## Архитектура проекта

### Основные части архитектуры

- **Модели (Model):**  
  Отвечают за хранение и обработку данных приложения (каталог товаров, корзина, заказ, ошибки форм).
- **Отображения (View):**  
  Компоненты для визуализации данных и взаимодействия с пользователем (карточки, корзина, модальные окна, формы).
- **Брокер событий (EventEmitter):**  
  Связывает модели и отображения, обеспечивает изолированность и слабую связанность компонентов.
- **API-клиент:**  
  Класс для взаимодействия с сервером (получение товаров, оформление заказа).

### Принципы архитектуры

- **Изолированность:**  
  Каждый компонент (модель, отображение, брокер событий) может использоваться отдельно.
- **Единственная ответственность:**  
  Каждый класс/компонент решает только свою задачу.
- **Масштабируемость:**  
  Добавление новых функций не требует переписывания существующего кода.
- **Слабая связанность:**  
  Все взаимодействия между слоями происходят через события.

---

## Описание базовых классов

- **AppState**  
  Управляет состоянием приложения: каталог товаров, корзина, заказ, ошибки форм.  
  Реализует методы для добавления/удаления товаров, оформления заказа, валидации форм.

- **LarekAPI**  
  Класс для работы с сервером.  
  Методы: получение списка товаров, оформление заказа.

- **EventEmitter**  
  Брокер событий.  
  Позволяет подписываться на события, снимать подписку, инициировать события.

- **Card**  
  Компонент карточки товара.  
  Отображает данные товара, обрабатывает клики по кнопке.

- **Basket**  
  Компонент корзины.  
  Отображает список товаров, общую стоимость, кнопку оформления заказа.

- **BasketItem**  
  Компонент отдельного товара в корзине.

- **Modal**  
  Компонент модального окна.

- **Page**  
  Управляет основными областями страницы и счетчиком корзины.

- **Order**  
  Форма оформления заказа.

- **Contacts**  
  Форма ввода контактных данных.

- **Success**  
  Компонент успешного оформления заказа.

---

## Описание компонентов и связей

- **AppState** — хранит и изменяет данные, реагирует на события от отображений.
- **View-компоненты** (Card, Basket, Modal, Page, Order, Contacts, Success, BasketItem) — получают данные через пропсы и события, инициируют действия пользователя.
- **EventEmitter** — связывает все части приложения, обеспечивает реакцию на действия пользователя.
- **LarekAPI** — изолирован от отображения, работает только с данными.

**Пример взаимодействия:**  
Пользователь нажимает "Купить" → компонент Card инициирует событие → AppState обновляет корзину → Basket отображает изменения.

---

## Типы данных

Типы и интерфейсы размещены в папке `src/types/`:

- **IProductItem** — товар (API и отображение)
- **IOrder, IOrderForm, IContactsForm** — заказ и формы
- **IBasketView, IBasketItem** — корзина
- **IModalData, IPage, ISuccess** — отображения
- **ILarekAPI** — интерфейс API-клиента
- **IEvents** — интерфейс брокера событий
- **Перечисления событий** — если используются

---

## Пример описания класса

**EventEmitter**  
Брокер событий.  
Функции: подписка на события, снятие подписки, вызов слушателей при возникновении события.

**Card**  
Компонент карточки товара.  
Функции: отображение информации о товаре, обработка клика по кнопке.

---

## Как реализованы процессы

- Все процессы реализованы через события (EventEmitter).
- Модели и отображения не зависят друг от друга напрямую.
- API-клиент не связан с отображением.

---

## UML-схема 

![UML-схема архитектуры](./web-larek-frontend%20UML-%D1%81%D1%85%D0%B5%D0%BC%D0%B0.svg)

---

## Примечания

- Все классы реализованы на TypeScript, типы вынесены в отдельные файлы.
- Взаимодействие между слоями — только через события.
- Код соответствует принципам единственной ответственности и слабого связывания.
- Архитектура легко расширяется за счёт событийной модели.

---

Если нужно добавить UML-схему, примеры кода, расширить описание или включить дополнительные разделы — дайте знать!

