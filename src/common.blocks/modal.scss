@use 'variables' as *;
@use 'mixins';

.modal {
	@include mixins.sublayer;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	display: none;
	justify-content: center;
	align-items: flex-start;
	background-color: $overlayBackground;
	z-index: 100;
	padding: 2rem;
	box-sizing: border-box;
	overflow-y: auto;

	&_active {
		display: flex;
	}

	&__container {
		@include mixins.container;
		@include mixins.flex(column);
		gap: $defaultPadding;
		background-color: $background;
		border-radius: 3rem;
		box-sizing: border-box;
		position: relative;
		max-height: calc(100vh - 4rem);
		margin: auto;
		overflow-y: auto;

		// Кастомизация скроллбара
		&::-webkit-scrollbar {
			width: 8px;
		}

		&::-webkit-scrollbar-track {
			background: transparent;
			border-radius: 4px;
		}

		&::-webkit-scrollbar-thumb {
			background: rgba(255, 255, 255, 0.3);
			border-radius: 4px;
			transition: background 0.2s ease;
			min-height: 40px;

			&:hover {
				background: rgba(255, 255, 255, 0.5);
			}
		}

		// Для Firefox
		scrollbar-width: thin;
		scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
	}

	&__content {
		flex-grow: 1;
	}

	&__title {
		margin: 0;
		font-size: 1.5rem;
		font-weight: 400;
	}

	&__actions {
		@include mixins.flex(row);
		align-items: center;
		gap: 2rem;
	}

	&__close {
		position: absolute;
		top: calc(#{$defaultPadding} / 2);
		right: calc(#{$defaultPadding} / 2);
		@include mixins.icon(2rem, 'close');
		@include mixins.link(white, $hover);
	}

	&__footer {
		@include mixins.flex(row);
		align-items: center;
		gap: 2rem;
	}

	&__message {
		white-space: nowrap;
		max-width: 60%;
		text-overflow: ellipsis;
		overflow: hidden;

		&_error {
			color: $error;
		}
	}
}

body {
	&.modal-open {
		overflow: hidden;
	}
}
